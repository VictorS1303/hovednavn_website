---
const {title, navItems = [], pageIntroText} = Astro.props
import Main from '../components/Main.astro'
import Navigation from '../components/Navigation.astro'
import PageIntroText from '../components/PageIntroText.astro'
import LandingPageFooter from '../components/LandingPageFooter.astro'
import RecordPlayer from '../components/RecordPlayer.astro'
import MainFooter from '../components/MainFooter.astro'
import '../styles/global.css'

const activePage = new URL(Astro.request.url).pathname
const isHome = activePage === '/'
---

<!doctype html>
<html lang='en'>
  <head>
    <meta charset='UTF-8' />
    <meta name='viewport' content='width=device-width' />
    <link rel='icon' type='image/ico+xml' href='/favicon.ico' />
    <meta name='generator' content={Astro.generator} />
    <script
      src='https://kit.fontawesome.com/2a447b40ae.js'
      crossorigin='anonymous'></script>
    <title>{title}</title>
  </head>
  <body class='bg-[var(--body-bg-color)]'>
    <!-- Navigation -->
    <Navigation navItems={navItems} />
    <!-- 
      Checking to see if the route is equal to the one of the index page to
      ensure that the component isn't being rendered unpuporsefully.
    -->
    <!-- Main Content -->
    <Main>
      {!isHome ? <PageIntroText pageIntroText={pageIntroText} /> : ''}
      <slot />
    </Main>

    <!-- 
      Generating a different footer based on if the
      route is equal to the index page's or not.
    -->
    {!isHome ? <MainFooter /> : <LandingPageFooter />}
  </body>
</html>
